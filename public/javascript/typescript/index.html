<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typescript 基础总结 | Half Town前端周刊</title>
    <meta name="description" content="白糖炒栗子哒前端Blog">
    <link rel="icon" href="/favicon.ico">
  <link rel="mainfest" href="/mainfest.json">
    
    <link rel="preload" href="/assets/css/0.styles.d4c32f31.css" as="style"><link rel="preload" href="/assets/js/app.b1906b97.js" as="script"><link rel="preload" href="/assets/js/2.bdee5faf.js" as="script"><link rel="preload" href="/assets/js/62.ef5ca102.js" as="script"><link rel="preload" href="/assets/js/8.e132ed9d.js" as="script"><link rel="prefetch" href="/assets/js/10.e085a21c.js"><link rel="prefetch" href="/assets/js/100.78a0b04f.js"><link rel="prefetch" href="/assets/js/101.02ef3e98.js"><link rel="prefetch" href="/assets/js/102.cdd542e1.js"><link rel="prefetch" href="/assets/js/103.de748a03.js"><link rel="prefetch" href="/assets/js/104.7455cba5.js"><link rel="prefetch" href="/assets/js/105.68a805c9.js"><link rel="prefetch" href="/assets/js/106.a2ff7e85.js"><link rel="prefetch" href="/assets/js/107.36f34ab6.js"><link rel="prefetch" href="/assets/js/108.f26732f6.js"><link rel="prefetch" href="/assets/js/109.8d05e086.js"><link rel="prefetch" href="/assets/js/11.f2fd41dc.js"><link rel="prefetch" href="/assets/js/110.c7f84bd1.js"><link rel="prefetch" href="/assets/js/111.0cdf0d73.js"><link rel="prefetch" href="/assets/js/12.450e705b.js"><link rel="prefetch" href="/assets/js/13.50973e7a.js"><link rel="prefetch" href="/assets/js/14.40fad099.js"><link rel="prefetch" href="/assets/js/15.a2d432ad.js"><link rel="prefetch" href="/assets/js/16.4ad6c82f.js"><link rel="prefetch" href="/assets/js/17.1bc86885.js"><link rel="prefetch" href="/assets/js/18.ade73665.js"><link rel="prefetch" href="/assets/js/19.a0f47a6e.js"><link rel="prefetch" href="/assets/js/20.5499b902.js"><link rel="prefetch" href="/assets/js/21.86afe090.js"><link rel="prefetch" href="/assets/js/22.29fa6f17.js"><link rel="prefetch" href="/assets/js/23.1af6f734.js"><link rel="prefetch" href="/assets/js/24.933ea1dd.js"><link rel="prefetch" href="/assets/js/25.7b5dc5f0.js"><link rel="prefetch" href="/assets/js/26.03194069.js"><link rel="prefetch" href="/assets/js/27.eb1fac5c.js"><link rel="prefetch" href="/assets/js/28.01df134d.js"><link rel="prefetch" href="/assets/js/29.697d4c02.js"><link rel="prefetch" href="/assets/js/3.77f61fb0.js"><link rel="prefetch" href="/assets/js/30.e1b58026.js"><link rel="prefetch" href="/assets/js/31.41db2b44.js"><link rel="prefetch" href="/assets/js/32.9f2db749.js"><link rel="prefetch" href="/assets/js/33.03b6d68a.js"><link rel="prefetch" href="/assets/js/34.09609909.js"><link rel="prefetch" href="/assets/js/35.c80be0ac.js"><link rel="prefetch" href="/assets/js/36.d15e6050.js"><link rel="prefetch" href="/assets/js/37.1ccd8184.js"><link rel="prefetch" href="/assets/js/38.ab0d4b98.js"><link rel="prefetch" href="/assets/js/39.8301eaad.js"><link rel="prefetch" href="/assets/js/4.90b687b0.js"><link rel="prefetch" href="/assets/js/40.d95907af.js"><link rel="prefetch" href="/assets/js/41.33845e14.js"><link rel="prefetch" href="/assets/js/42.8a256266.js"><link rel="prefetch" href="/assets/js/43.343b309f.js"><link rel="prefetch" href="/assets/js/44.e61b9da2.js"><link rel="prefetch" href="/assets/js/45.0eea8be7.js"><link rel="prefetch" href="/assets/js/46.861203d9.js"><link rel="prefetch" href="/assets/js/47.ae5bd907.js"><link rel="prefetch" href="/assets/js/48.1dbfd265.js"><link rel="prefetch" href="/assets/js/49.87f2ea7e.js"><link rel="prefetch" href="/assets/js/5.06355c1f.js"><link rel="prefetch" href="/assets/js/50.92bcf9cd.js"><link rel="prefetch" href="/assets/js/51.2b54e26b.js"><link rel="prefetch" href="/assets/js/52.ef61db16.js"><link rel="prefetch" href="/assets/js/53.e8411588.js"><link rel="prefetch" href="/assets/js/54.6f0a7cd7.js"><link rel="prefetch" href="/assets/js/55.40d0a721.js"><link rel="prefetch" href="/assets/js/56.76ff8ce6.js"><link rel="prefetch" href="/assets/js/57.cfea78e2.js"><link rel="prefetch" href="/assets/js/58.f8c35f3d.js"><link rel="prefetch" href="/assets/js/59.02cbb18a.js"><link rel="prefetch" href="/assets/js/6.d108277e.js"><link rel="prefetch" href="/assets/js/60.2df7b32b.js"><link rel="prefetch" href="/assets/js/61.16805fc4.js"><link rel="prefetch" href="/assets/js/63.923718a5.js"><link rel="prefetch" href="/assets/js/64.d40092dd.js"><link rel="prefetch" href="/assets/js/65.d68a358c.js"><link rel="prefetch" href="/assets/js/66.b4323cbe.js"><link rel="prefetch" href="/assets/js/67.3a9004c1.js"><link rel="prefetch" href="/assets/js/68.350f6fbb.js"><link rel="prefetch" href="/assets/js/69.fdebae43.js"><link rel="prefetch" href="/assets/js/7.f0379e88.js"><link rel="prefetch" href="/assets/js/70.ccac64ba.js"><link rel="prefetch" href="/assets/js/71.8948f6c8.js"><link rel="prefetch" href="/assets/js/72.f5d07472.js"><link rel="prefetch" href="/assets/js/73.c2ddba1b.js"><link rel="prefetch" href="/assets/js/74.7a96d852.js"><link rel="prefetch" href="/assets/js/75.d452b4b5.js"><link rel="prefetch" href="/assets/js/76.5eac82cb.js"><link rel="prefetch" href="/assets/js/77.49a8f94c.js"><link rel="prefetch" href="/assets/js/78.17478c01.js"><link rel="prefetch" href="/assets/js/79.545a2920.js"><link rel="prefetch" href="/assets/js/80.172aeb42.js"><link rel="prefetch" href="/assets/js/81.6376c78a.js"><link rel="prefetch" href="/assets/js/82.1dfa8f89.js"><link rel="prefetch" href="/assets/js/83.fc10680d.js"><link rel="prefetch" href="/assets/js/84.41df0212.js"><link rel="prefetch" href="/assets/js/85.b57d2894.js"><link rel="prefetch" href="/assets/js/86.1bed09b1.js"><link rel="prefetch" href="/assets/js/87.3bc2e0cf.js"><link rel="prefetch" href="/assets/js/88.5797d5a1.js"><link rel="prefetch" href="/assets/js/89.cfc4d086.js"><link rel="prefetch" href="/assets/js/9.17617c7c.js"><link rel="prefetch" href="/assets/js/90.d3796c5b.js"><link rel="prefetch" href="/assets/js/91.f9e0f122.js"><link rel="prefetch" href="/assets/js/92.8ce6ae6a.js"><link rel="prefetch" href="/assets/js/93.f1c144ce.js"><link rel="prefetch" href="/assets/js/94.1877adf1.js"><link rel="prefetch" href="/assets/js/95.41ce2c18.js"><link rel="prefetch" href="/assets/js/96.07be3e30.js"><link rel="prefetch" href="/assets/js/97.d6ecd209.js"><link rel="prefetch" href="/assets/js/98.b1431a2d.js"><link rel="prefetch" href="/assets/js/99.acea4094.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4c32f31.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Half Town前端周刊</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/posts/" class="nav-link">目录</a></div><div class="nav-item"><a href="https://github.com/LSKReno" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://weibo.com/u/5092674629" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://lskreno.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LSKReno的 博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/posts/" class="nav-link">目录</a></div><div class="nav-item"><a href="https://github.com/LSKReno" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://weibo.com/u/5092674629" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://lskreno.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LSKReno的 博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/posts/" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>总结前端技术文章</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/dombom/" class="sidebar-link">DOM 和 BOM 的总结</a></li><li><a href="/javascript/typescript/" class="active sidebar-link">Typescript 基础总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#前言-—-特点" class="sidebar-link">前言 — 特点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#类型声明" class="sidebar-link">类型声明</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#类型校验" class="sidebar-link">类型校验</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#一、基本类型" class="sidebar-link">一、基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-1-string" class="sidebar-link">1. 1 string</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-2-number" class="sidebar-link">1. 2 number</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-3-boolean" class="sidebar-link">1. 3 boolean</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-4-undefined" class="sidebar-link">1. 4 undefined</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-5-null" class="sidebar-link">1. 5 null</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-6-void" class="sidebar-link">1. 6 void</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-7-never" class="sidebar-link">1. 7 never</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-8-any" class="sidebar-link">1. 8 any</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#二、引用类型" class="sidebar-link">二、引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_2-1-数组类型" class="sidebar-link">2. 1 数组类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_2-2-只读数组" class="sidebar-link">2. 2 只读数组</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_2-3-object" class="sidebar-link">2. 3 object</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_2-4-元组" class="sidebar-link">2. 4 元组</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#三、类型断言" class="sidebar-link">三、类型断言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_1-写法" class="sidebar-link">1. 写法</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_2-联合类型" class="sidebar-link">2. 联合类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_3-类型断言和类型转换之间的区别" class="sidebar-link">3. 类型断言和类型转换之间的区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#四、接口" class="sidebar-link">四、接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-1-固定属性" class="sidebar-link">4. 1 固定属性</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-2-可选属性" class="sidebar-link">4. 2 可选属性</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-3-只读属性" class="sidebar-link">4. 3 只读属性</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-4-额外检查" class="sidebar-link">4. 4 额外检查</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-5-可索引类型" class="sidebar-link">4. 5 可索引类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-6-函数类型" class="sidebar-link">4. 6 函数类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-7-类类型" class="sidebar-link">4. 7 类类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-8-接口继承" class="sidebar-link">4. 8 接口继承</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-9-混合类型" class="sidebar-link">4. 9 混合类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_4-10-接口继承类" class="sidebar-link">4. 10 接口继承类</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#五、类" class="sidebar-link">五、类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#类的典型结构" class="sidebar-link">类的典型结构</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_5-1-类的继承" class="sidebar-link">5. 1 类的继承</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_5-2-类的成员修饰符" class="sidebar-link">5. 2 类的成员修饰符</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#六、函数" class="sidebar-link">六、函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-1-函数签名" class="sidebar-link">6. 1 函数签名</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-2-完整的函数类型" class="sidebar-link">6. 2 完整的函数类型</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-3-类型推断" class="sidebar-link">6. 3 类型推断</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-4-可选参数" class="sidebar-link">6. 4 可选参数</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-5-默认参数" class="sidebar-link">6. 5 默认参数</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-6-剩余参数" class="sidebar-link">6. 6 剩余参数</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_6-7-函数重载" class="sidebar-link">6. 7 函数重载</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_7、泛型" class="sidebar-link">7、泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/typescript/#_7-1-泛型函数" class="sidebar-link">7. 1 泛型函数</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_7-2-泛型接口" class="sidebar-link">7. 2 泛型接口</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#_7-3-泛型类" class="sidebar-link">7. 3 泛型类</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#结语" class="sidebar-link">结语</a></li><li class="sidebar-sub-header"><a href="/javascript/typescript/#thank" class="sidebar-link">THANK</a></li></ul></li><li><a href="/javascript/003-type-conversion/" class="sidebar-link">003 -  JS类型转换</a></li><li><a href="/javascript/utils/" class="sidebar-link">JS 工具函数大全</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6-11新特性</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深入JavaScript系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Browser浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS-API揭秘系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>搞懂那个TCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>这个面试不太难</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>手写JS系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue大赏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Koa大赏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB大赏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端架构设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端模块化规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端自动化测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue-cli的配置详解</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-基础总结"><a href="#typescript-基础总结" aria-hidden="true" class="header-anchor">#</a> Typescript 基础总结</h1> <h2 id="前言-—-特点"><a href="#前言-—-特点" aria-hidden="true" class="header-anchor">#</a> 前言 — 特点</h2> <ol><li>TS 是 JS 的超集</li> <li>TS 给 JS 带来类型系统</li></ol> <p>这意味着 TS 的根基是 JS, 是在 JS 的 基础上添加了类型系统。</p> <h3 id="类型声明"><a href="#类型声明" aria-hidden="true" class="header-anchor">#</a> 类型声明</h3> <p>类型系统的一个特点是使用类型声明。</p> <p>在 JS 中, 使用「等号=」给变量赋值。</p> <p>经过 TS 的扩展, 可以使用「冒号:」给变量赋类型。代码中声明变量 foo 的类型是 string。</p> <h3 id="类型校验"><a href="#类型校验" aria-hidden="true" class="header-anchor">#</a> 类型校验</h3> <p>类型系统的另一个特点是进行类型校验。</p> <p>在 TS 中, 需要校验「等号=」左右的类型是否匹配。</p> <p>值存在明确的类型, TS 会校验左右两侧的类型是否匹配, 若不匹配则提示错误。</p> <p>在了解这些前置知识后, 来看看具体的 TS 知识点。</p> <h2 id="一、基本类型"><a href="#一、基本类型" aria-hidden="true" class="header-anchor">#</a> 一、基本类型</h2> <p>继承 JS 的基本类型如：string、number、boolean、undefined、null。扩展了其他基本类型如：any、never、void。</p> <h3 id="_1-1-string"><a href="#_1-1-string" aria-hidden="true" class="header-anchor">#</a> 1. 1 string</h3> <p>表示类型为字符串</p> <h3 id="_1-2-number"><a href="#_1-2-number" aria-hidden="true" class="header-anchor">#</a> 1. 2 number</h3> <p>表示类型为数字</p> <h3 id="_1-3-boolean"><a href="#_1-3-boolean" aria-hidden="true" class="header-anchor">#</a> 1. 3 boolean</h3> <p>表示类型为布尔类型</p> <h3 id="_1-4-undefined"><a href="#_1-4-undefined" aria-hidden="true" class="header-anchor">#</a> 1. 4 undefined</h3> <p>表示类型为 undefined</p> <h3 id="_1-5-null"><a href="#_1-5-null" aria-hidden="true" class="header-anchor">#</a> 1. 5 null</h3> <p>表示类型为 null</p> <h3 id="_1-6-void"><a href="#_1-6-void" aria-hidden="true" class="header-anchor">#</a> 1. 6 void</h3> <p>表示类型为 undefined 或 null。</p> <h4 id="_1-6-1-对于变量"><a href="#_1-6-1-对于变量" aria-hidden="true" class="header-anchor">#</a> 1. 6. 1 对于变量</h4> <p>一个声明为 void 类型的变量, 只能被赋值为 undefined 或 null。这种应用场景较少。</p> <h4 id="_1-6-2-对于函数"><a href="#_1-6-2-对于函数" aria-hidden="true" class="header-anchor">#</a> 1. 6. 2 对于函数</h4> <p>void 用于表示函数没有返回值, 只是执行某些操作。这是 void 的普遍应用场景。</p> <p>一个没有显式返回的函数, 默认 return undefined。符合 void 类型只能被赋值为 undefined 或 null。</p> <h3 id="_1-7-never"><a href="#_1-7-never" aria-hidden="true" class="header-anchor">#</a> 1. 7 never</h3> <p>表示永远不存在值。</p> <p>典型例子：一个只会抛出异常的函数, 它的返回值并不存在。</p> <p>执行函数则抛出错误, 连 undefined 都不会返回。</p> <h3 id="_1-8-any"><a href="#_1-8-any" aria-hidden="true" class="header-anchor">#</a> 1. 8 any</h3> <p>表示可能为任何类型。</p> <p>典型例子：不确定变量的类型或类型是动态的。</p> <h2 id="二、引用类型"><a href="#二、引用类型" aria-hidden="true" class="header-anchor">#</a> 二、引用类型</h2> <p>TS 中的引用类型, 除了 JS 中的 <code>数组类型</code> 、 <code>对象类型</code> , 还扩展了 <code>枚举类型</code> , <code>元祖类型</code> 。</p> <h3 id="_2-1-数组类型"><a href="#_2-1-数组类型" aria-hidden="true" class="header-anchor">#</a> 2. 1 数组类型</h3> <p>表示由某(些)类型组成的数组。有两种写法：方括号表示法和尖括号表示法。</p> <h4 id="_2-1-1-方括号表示法"><a href="#_2-1-1-方括号表示法" aria-hidden="true" class="header-anchor">#</a> 2. 1. 1 方括号表示法</h4> <p>表示 arr 的类型是由数字组成的数组 <code>元素类型[]</code> 。</p> <h4 id="_2-1-2-尖括号表示法"><a href="#_2-1-2-尖括号表示法" aria-hidden="true" class="header-anchor">#</a> 2. 1. 2 尖括号表示法</h4> <p>使用 <code>Array&lt;元素类型&gt;</code> , 这是 <code>数组泛型</code> 的使用形式, 关于泛型后续会展开。</p> <h3 id="_2-2-只读数组"><a href="#_2-2-只读数组" aria-hidden="true" class="header-anchor">#</a> 2. 2 只读数组</h3> <p>使用 <code>ReadonlyArray&lt;属性类型&gt;</code> 定义只读数组。只读数组只能在数组初始化时定义其值, 创建后不能进行修改。</p> <p>只读数组和常规数组类型 <code>Array&lt;T&gt;</code> 类似。区别在于：常规数组存在修改数组的方法, 只读数组不存在修改数组的方法。</p> <h3 id="_2-3-object"><a href="#_2-3-object" aria-hidden="true" class="header-anchor">#</a> 2. 3 object</h3> <p>表示类型为对象。除了 string、number、bigint、boolean、 undefined、null、symbol 基本类型外的引用类型。</p> <h3 id="_2-4-元组"><a href="#_2-4-元组" aria-hidden="true" class="header-anchor">#</a> 2. 4 元组</h3> <p>由<strong>定长数组</strong>构成, 数组中的元素是某(些)类型 <code>[string, number]</code> 。</p> <h2 id="三、类型断言"><a href="#三、类型断言" aria-hidden="true" class="header-anchor">#</a> 三、类型断言</h2> <p>明确告诉 TS 某个值的类型。有两种写法：尖括号写法、as 写法。</p> <h3 id="_1-写法"><a href="#_1-写法" aria-hidden="true" class="header-anchor">#</a> 1. 写法</h3> <h4 id="_1-1-尖括号写法"><a href="#_1-1-尖括号写法" aria-hidden="true" class="header-anchor">#</a> 1. 1 尖括号写法</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> str<span class="token punctuation">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'白糖炒栗子'</span>
<span class="token keyword">let</span> strLen <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> str<span class="token punctuation">)</span><span class="token punctuation">.</span>length
</code></pre></div><h4 id="_1-2-as-写法"><a href="#_1-2-as-写法" aria-hidden="true" class="header-anchor">#</a> 1. 2 as 写法</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> str<span class="token punctuation">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'白糖炒栗子'</span>
<span class="token keyword">let</span> strLen <span class="token operator">=</span> <span class="token punctuation">(</span>str <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
</code></pre></div><blockquote><p>注意事项:</p> <p><code>类型断言</code> 和 <code>类型转换</code> 是有明确区别, 不能将它理解成类型转换。</p> <p>在阐述此注意事项之前, 先引入另一个概念： <code>联合类型</code> 。</p></blockquote> <h3 id="_2-联合类型"><a href="#_2-联合类型" aria-hidden="true" class="header-anchor">#</a> 2. 联合类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> foo<span class="token punctuation">:</span> string <span class="token operator">|</span> number <span class="token operator">=</span> <span class="token string">'白糖炒栗子'</span>
<span class="token comment">//正确</span>
foo <span class="token operator">=</span> <span class="token number">9527</span>
</code></pre></div><p><code>string | number</code> 表示的就是一个联合类型, 意味着 foo 的类型可以为 string 或 number。</p> <h3 id="_3-类型断言和类型转换之间的区别"><a href="#_3-类型断言和类型转换之间的区别" aria-hidden="true" class="header-anchor">#</a> 3. 类型断言和类型转换之间的区别</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> foo<span class="token punctuation">:</span> string <span class="token operator">|</span> number <span class="token operator">=</span> <span class="token string">'白糖炒栗子'</span>
<span class="token comment">//正确</span>
<span class="token keyword">let</span> answer<span class="token punctuation">:</span> string <span class="token operator">=</span> foo <span class="token keyword">as</span> string
</code></pre></div><p>上述代码中, <code>string | number</code> 联合类型包含 string 类型, 所以这两种类型之间存在联系。使用 as 将联合类型断言成更加具体的 string 类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">9527</span>
<span class="token comment">//正确</span>
<span class="token keyword">let</span> other <span class="token operator">=</span> num <span class="token keyword">as</span> string <span class="token operator">|</span> number
</code></pre></div><p>上述代码中, 将 number 类型断言为 <code>string | number</code> 类型。同样是因为两种类型之间存在联系, 所以也允许断言。相当于将一个具体的 number 类型断言成更加广泛的联合类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'白糖炒栗子'</span>
<span class="token comment">//提示错误</span>
<span class="token keyword">let</span> bar<span class="token punctuation">:</span> number <span class="token operator">=</span> str <span class="token keyword">as</span> number
</code></pre></div><p>而将 string 类型断言为 number 类型, 这是两种不同的类型, 没有任何联系, 断言会提示错误。</p> <p>观察上述三个例子, 断言发生在两种类型存在联系的情况, 它并不是将一种类型转换成另一种类型。</p> <p>有些脑瓜子灵活的朋友会想到, 借助两次断言来进行类似的类型转换。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num1<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">9527</span>
<span class="token keyword">let</span> num2<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token operator">&lt;</span> string <span class="token operator">&gt;</span> <span class="token operator">&lt;</span> number <span class="token operator">|</span> string <span class="token operator">&gt;</span> num1
</code></pre></div><p>NOTE: 这是欺骗了 TS 校验, 后果只能自己承担。</p> <h2 id="四、接口"><a href="#四、接口" aria-hidden="true" class="header-anchor">#</a> 四、接口</h2> <p>上面提到使用 object 描述对象类型。但是, 对于具有复杂结构的对象、函数。上述的 object 类型力有不逮。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">:</span> object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//return o.name</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'白糖炒栗子'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>上述代码中, <code>即使是空对象, 也能通过 object 类型校验, 而不会校验对象的结构是否能满足后续使用</code> 。</p> <p><strong>此时, 就需要使用接口</strong>。</p> <p>在 TS 中, 接口是<strong>描述值的结构</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o<span class="token punctuation">.</span>name
    <span class="token comment">//提示错误</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//正确</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'白糖炒栗子'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>上述代码中, 就定义了一个接口来描述参数 o, 要求它是一个对象, 含有 name 属性, 且属性值是字符串。</p> <p>所以, 不符合此结构的空对象 {} 就提示错误。</p> <p>一般来说, <strong>使用关键字 <code>interface</code> 来定义接口</strong>。</p> <p>重写上述接口 :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-1-固定属性"><a href="#_4-1-固定属性" aria-hidden="true" class="header-anchor">#</a> 4. 1 固定属性</h3> <p>在接口中, 使用 <code>属性名：属性类型</code> 的结构定义固定属性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
    age<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'白糖炒栗子'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    age： <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token function">getName</span><span class="token punctuation">(</span>cat<span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token function">getName</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span>
</code></pre></div><p>如上述代码所示, 传入的对象需要具有 name 和 age 两个属性, 否则会报错。</p> <h3 id="_4-2-可选属性"><a href="#_4-2-可选属性" aria-hidden="true" class="header-anchor">#</a> 4. 2 可选属性</h3> <p>在接口中, 使用 <code>属性名?：属性类型</code> 的结构定义可选属性。顾名思义, 可选属性可以存在, 也可以不存在。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
    age <span class="token operator">?</span> <span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'白糖炒栗子'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    age： <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token function">getName</span><span class="token punctuation">(</span>cat<span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token function">getName</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-3-只读属性"><a href="#_4-3-只读属性" aria-hidden="true" class="header-anchor">#</a> 4. 3 只读属性</h3> <p>在接口中, 使用 <code>readonly 属性名：属性类型</code> 的结构定义只读属性。只读属性只能在属性初始化时定义其值, 定义后不能进行修改。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    readonly x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    readonly y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1<span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//提示错误</span>
p1<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-4-额外检查"><a href="#_4-4-额外检查" aria-hidden="true" class="header-anchor">#</a> 4. 4 额外检查</h3> <p>TS 会对对象字面量进行 <code>额外的属性检查</code> 。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    × <span class="token operator">?</span> <span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y <span class="token operator">?</span> <span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">point</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> Point</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token keyword">let</span> p1<span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    z<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token function">point</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x： <span class="token number">1</span><span class="token punctuation">,</span>
    z： <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    x： <span class="token number">1</span><span class="token punctuation">,</span>
    z： <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token function">point</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><p>在上述代码中, 接口 Point 定义了两个可选属性, 对象字面量中属性 x 和接口兼容, 属性 z 是多余无意义的。</p> <p>虽然实际的属性比接口定义的多, 按照常规理解, 这是可以通过类型校验, 但事实却相反。</p> <p><strong>TS 对于对象字面量是会进行额外的属性检查</strong>, 体现在：</p> <ul><li><p>当对象字面量赋值给变量或它直接作为参数传递给函数时, 如果对象字面量的属性没有在接口中定义, 则会报错。</p> <p>换句话说, 对于对象字面量, 当它直接赋值给变量和函数参数时, 它的属性不能比接口描述的多。</p> <p>这里重点是直接赋值, 如果像例子中, 先将对象字面量赋值给变量, 再通过变量传参, 这样间接的方法可以绕过额外的检查。</p></li></ul> <h3 id="_4-5-可索引类型"><a href="#_4-5-可索引类型" aria-hidden="true" class="header-anchor">#</a> 4. 5 可索引类型</h3> <p>可索引类型包括字符串索引类型与数字索引类型。</p> <h4 id="_4-5-1-字符串索引类型"><a href="#_4-5-1-字符串索引类型" aria-hidden="true" class="header-anchor">#</a> 4. 5. 1 字符串索引类型</h4> <p>字符串索引类型具有字符串索引签名。</p> <div class="language-json extra-class"><pre class="language-json"><code>interface Point <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>prop<span class="token operator">:</span>string<span class="token punctuation">]</span><span class="token operator">:</span>number;
<span class="token punctuation">}</span> 
let p<span class="token operator">:</span>Point;
p = <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>z<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-5-2-数字索引类型"><a href="#_4-5-2-数字索引类型" aria-hidden="true" class="header-anchor">#</a> 4. 5. 2 数字索引类型</h4> <p>数字索引类型具有数字索引签名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
    <span class="token comment">//数字索引签名</span>
    <span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span>： string；
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myArray<span class="token punctuation">:</span> StringArray<span class="token punctuation">;</span>
myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'白糖炒栗子'</span><span class="token punctuation">,</span>
    <span class="token string">'前端'</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="_4-5-3-混合索引签名"><a href="#_4-5-3-混合索引签名" aria-hidden="true" class="header-anchor">#</a> 4. 5. 3 混合索引签名</h4> <p>属性和索引签名可以形成混合索引签名, 但是属性需要和索引签名类型匹配。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Dict</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token punctuation">:</span> string<span class="token punctuation">]</span>： number；
    <span class="token comment">//正确</span>
    length<span class="token punctuation">:</span> number；
    <span class="token comment">//提示错误</span>
    name<span class="token punctuation">:</span> string；
<span class="token punctuation">}</span>
</code></pre></div><p>另外, TS 允许同时使用上述两种签名, 但是数字索引返回值的类型, 它必须是字符串索引返回值类型的子类型。</p> <p>因为对于 JS 来说, 当使用数字索引时, 会将它转换成字符串进行索引。所以它们需要保持一致。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">TwoD</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number；
    y<span class="token punctuation">:</span> number；
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">ThreeD</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number；
    y<span class="token punctuation">:</span> number；
    z<span class="token punctuation">:</span> number；
<span class="token punctuation">}</span>
<span class="token comment">//正确</span>
<span class="token keyword">interface</span> <span class="token class-name">PointA</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span>： ThreeD；
        <span class="token punctuation">[</span>prop<span class="token punctuation">:</span> string<span class="token punctuation">]</span>： TwoD；
<span class="token punctuation">}</span>
<span class="token comment">//错误</span>
<span class="token keyword">interface</span> <span class="token class-name">PointB</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span>： TwoD；
        <span class="token punctuation">[</span>prop<span class="token punctuation">:</span> string<span class="token punctuation">]</span>： ThreeD；
<span class="token punctuation">}</span>
</code></pre></div><p>上述代码中, ThreeD 是 TwoD 的子类型, 所以接口 PointA 正确。</p> <h4 id="_4-5-4-只读索引签名"><a href="#_4-5-4-只读索引签名" aria-hidden="true" class="header-anchor">#</a> 4. 5. 4 只读索引签名</h4> <p>可以将索引签名设置为只读, 只能在数组初始化时定义其值, 创建后不能进行修改。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">ReadonlyStringArray</span> <span class="token punctuation">{</span>
    readonly<span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span>： string；
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myArray<span class="token punctuation">:</span> ReadonlyStringArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'白糖炒栗子'</span><span class="token punctuation">]</span>
<span class="token comment">//提示错误</span>
myArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span>
</code></pre></div><h3 id="_4-6-函数类型"><a href="#_4-6-函数类型" aria-hidden="true" class="header-anchor">#</a> 4. 6 函数类型</h3> <p>函数类型具有调用签名。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Fun</span> <span class="token punctuation">{</span>
    <span class="token comment">//调用签名</span>
    <span class="token punctuation">(</span>arg1： <span class="token builtin">string</span><span class="token punctuation">,</span>  arg2： <span class="token builtin">number</span><span class="token punctuation">)</span>： <span class="token builtin">boolean</span>；
<span class="token punctuation">}</span>
</code></pre></div><p>如上述代码所示, 调用签名包括参数列表和返回值类型。</p> <p>对于函数类型来说, 它校验的值当然是函数 :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Sum</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> sum<span class="token punctuation">:</span> <span class="token function-variable function">Sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">numl<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>如上述代码所示, 函数的参数名可以与签名的参数名不同。关键是对应位置的参数类型需要相同。</p> <h3 id="_4-7-类类型"><a href="#_4-7-类类型" aria-hidden="true" class="header-anchor">#</a> 4. 7 类类型</h3> <p>这里的概念有些复杂, 如果有良好的 JS 基础, 会较易理解。</p> <p>类的关键字是 Class, 由 ES6 开始引入, 并逐步完善。本质上 Class 属于语法糖, 是基于 prototype 原型链实现的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
<span class="token punctuation">}</span>
<span class="token comment">//ES6</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>
    <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>而无论是 ES5 或 ES6, 属性 age 是在创建的实例上, 而方法 getAge() 是在实例的原型链上。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>age <span class="token operator">===</span> <span class="token number">24</span>
p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">24</span>
</code></pre></div><p>而类本身, 它是不存在 age 属性 和 getAge() 方法的。</p> <div class="language-js extra-class"><pre class="language-js"><code>Person<span class="token punctuation">.</span>age <span class="token operator">===</span> <span class="token keyword">undefined</span>
Person<span class="token punctuation">.</span>getAge <span class="token operator">===</span> <span class="token keyword">undefined</span>
</code></pre></div><p>当然, 我们也可以给类本身定义属性和方法。 但给类本身定义的属性和方法并不能通过实例直接访问。</p> <div class="language-js extra-class"><pre class="language-js"><code>Person<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'超人'</span>
Person<span class="token punctuation">.</span><span class="token function-variable function">showPower</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'superman'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
p<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token keyword">undefined</span>
p<span class="token punctuation">.</span>showPower <span class="token operator">===</span> <span class="token keyword">undefined</span>
</code></pre></div><p>所以, 类与实例的属性和方法是割裂的。</p> <p>**TS 将描述 <code>类</code> 的属性和方法部分称为 <code>类的静态部分类型</code> , **</p> <p><strong>将描述 <code>实例</code> 的属性和方法部分称为 <code>类的实例部分类型</code> 。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">PersonIFS</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">PersonIFS</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>
    <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上述代码中, 使用关键字 implements 描述类实现了接口。更准确的是：描述 类的实例部分 实现了接口。</p> <p>实现该接口的类的实例, 它是具有 age 属性, getAge() 方法。而类本身(即类的静态部分)具有何种属性与方法, 上述代码没有进行定义。</p> <p>所以, 这里所说的类类型, 实际上是类(实例的)类型。</p> <p>关于如何定义类的静态部分的类型, 在后续会详细介绍。</p> <h3 id="_4-8-接口继承"><a href="#_4-8-接口继承" aria-hidden="true" class="header-anchor">#</a> 4. 8 接口继承</h3> <p>接口的可以使用关键字 extends 定义继承。一个接口可以继承多个接口。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">TwoD</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">ThreeD</span> <span class="token keyword">extends</span> <span class="token class-name">TwoD</span> <span class="token punctuation">{</span>
    z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> point<span class="token punctuation">:</span> ThreeD <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    z<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-9-混合类型"><a href="#_4-9-混合类型" aria-hidden="true" class="header-anchor">#</a> 4. 9 混合类型</h3> <p>一个对象可能混合多种类型。</p> <p>例如定义一个带版本号的函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Fn</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    version<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Fn <span class="token punctuation">{</span>
    <span class="token keyword">let</span> fn <span class="token operator">=</span> <span class="token operator">&lt;</span> Fn <span class="token operator">&gt;</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    fn<span class="token punctuation">.</span>version <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> fn
<span class="token punctuation">}</span>
</code></pre></div><p>值得注意, 上述使用类型断言, 将函数断言为 Fn, 即使 fn 在创建时并不存在 version 属性。</p> <h3 id="_4-10-接口继承类"><a href="#_4-10-接口继承类" aria-hidden="true" class="header-anchor">#</a> 4. 10 接口继承类</h3> <p>当接口继承类类型时候, 表现在继承类的成员和结构, 但不包括其实现。</p> <p>接口继承类的一个场景是, 定义一个子类的类类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token constant">X</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">RectIFS</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">getCube</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cube</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token keyword">implements</span> <span class="token class-name">RectIFS</span> <span class="token punctuation">{</span>
    z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> z<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getCube</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="五、类"><a href="#五、类" aria-hidden="true" class="header-anchor">#</a> 五、类</h2> <p>类在上文有所提及, 这里作进一步了解。</p> <h3 id="类的典型结构"><a href="#类的典型结构" aria-hidden="true" class="header-anchor">#</a> 类的典型结构</h3> <p>包括属性、方法、构造函数。使用关键字 new 创建类的实例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
    <span class="token punctuation">}</span>
    <span class="token function">getRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_5-1-类的继承"><a href="#_5-1-类的继承" aria-hidden="true" class="header-anchor">#</a> 5. 1 类的继承</h3> <p>使用关键字 extends 定义类的继承。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Cube</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
        z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> z<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z
        <span class="token punctuation">}</span>
        <span class="token function">getCube</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>z
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-2-类的成员修饰符"><a href="#_5-2-类的成员修饰符" aria-hidden="true" class="header-anchor">#</a> 5. 2 类的成员修饰符</h3> <h4 id="_5-2-1-public"><a href="#_5-2-1-public" aria-hidden="true" class="header-anchor">#</a> 5. 2. 1 public</h4> <p>类的成员修饰符默认是 public, 也可以显式声明。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> a<span class="token punctuation">:</span> string
    b<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>
</code></pre></div><p>上述代码中, 属性 a 和 b 均被声明为公共的。</p> <h4 id="_5-2-2-private"><a href="#_5-2-2-private" aria-hidden="true" class="header-anchor">#</a> 5. 2. 2 private</h4> <p>将类的成员声明为私有的, 即只有类内部访问。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//提示错误rect.x</span>
<span class="token comment">//正确</span>
rect<span class="token punctuation">.</span>y
</code></pre></div><p>TS 是 <code>结构性类型系统(鸭式辨形)</code> , 如果两种类型的结构相同, 一般情况下, TS 会认为它们是兼容的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//Point 类型与Rect类型兼容</span>
<span class="token keyword">let</span> rect<span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>可是, 当类的成员带有 private 或 protected 修饰符时, 情况却不一样。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
        y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//报错</span>
    <span class="token keyword">let</span> rect<span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>上述代码中, 虽然看上去它们的结构相同。但是, 当一个类的成员中存在 private 或 protected 时, 如果需要另一个类与它兼容, 则需要两个类的声明来源于同一份声明, 例如通过继承。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">//Point 类型与Rect类型兼容</span>
    <span class="token keyword">let</span> rect<span class="token punctuation">:</span> Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_5-2-3-protected"><a href="#_5-2-3-protected" aria-hidden="true" class="header-anchor">#</a> 5. 2. 3 protected</h4> <p>修饰符 protected 和 private 类似, 区别在于使用 protected 修饰的成员, 在派生类可以访问。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cube</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> z： number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z
    <span class="token punctuation">}</span>
    <span class="token function">getx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//提示错误</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x
    <span class="token punctuation">}</span>
    <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//正确</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-2-4-readonly"><a href="#_5-2-4-readonly" aria-hidden="true" class="header-anchor">#</a> 5. 2. 4 readonly</h4> <p>修饰符 readonly 将属性设置为只读。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    readonly x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    readonly y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//提示错误</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>将属性设置为只读, 只能在初始化时候定义其值, 定义后不能修改。</p> <h4 id="_5-2-5-static"><a href="#_5-2-5-static" aria-hidden="true" class="header-anchor">#</a> 5. 2. 5 static</h4> <p>在类类型中, 我们区分了类的静态部分和类的实例部分。修饰符 static 将类成员声明为静态成员。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token keyword">static</span> version<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Rect<span class="token punctuation">.</span>version
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//正确</span>
Rect<span class="token punctuation">.</span>verson
<span class="token comment">//正确</span>
Rect<span class="token punctuation">.</span>getVersion
</code></pre></div><h4 id="_5-2-6-抽象类"><a href="#_5-2-6-抽象类" aria-hidden="true" class="header-anchor">#</a> 5. 2. 6 抽象类</h4> <p>我们创建基类时, <strong>如果不希望基类能被实例化, 可以使用 protected 修饰符</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y： number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cube</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> z： number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token keyword">let</span> cube <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cube</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>更普遍的做法是, <code>使用 abstract 修饰符</code> 。 <code>abstract 能定义抽象类和抽象类中的抽象方法</code> 。</p> <div class="language-js extra-class"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    y<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y： number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//抽象方法</span>
    abstract <span class="token function">getRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>： number
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cube</span> <span class="token keyword">extends</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>
    z<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number<span class="token punctuation">,</span> z： number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>z <span class="token operator">=</span> z
    <span class="token punctuation">}</span>
    <span class="token function">getRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//提示错误</span>
<span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token keyword">let</span> cube <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cube</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_5-2-7-getter-和-setter"><a href="#_5-2-7-getter-和-setter" aria-hidden="true" class="header-anchor">#</a> 5. 2. 7 getter 和 setter</h4> <p>很多时候, 对某个属性读取时, 同时需要对其进行处理, 例如。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Name</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> xing<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token keyword">public</span> ming<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">getFulLName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>xing<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>ming<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setFullName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>xing <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ming <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> someone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token string">'张'</span><span class="token punctuation">,</span> <span class="token string">'三'</span><span class="token punctuation">)</span>

someone<span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//&quot;张三&quot;</span>

someone<span class="token punctuation">.</span><span class="token function">setFullName</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span>

someone<span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//&quot;李四&quot;</span>
</code></pre></div><p>更加简单的办法是, 通过 存储器 处理。</p> <p>getter 和 setter 统称 <code>存取器</code> , 其实在 ES5 就已经存在, 很多朋友没有留意。如果对存取器不熟悉的, 也可以通过 TS 来理解。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Name</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> xing<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token keyword">public</span> ming<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>xing<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>ming<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>xing <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ming <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> someone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token string">'张'</span><span class="token punctuation">,</span> <span class="token string">'三'</span><span class="token punctuation">)</span>

someone<span class="token punctuation">.</span>fullName
<span class="token comment">//&quot;张三&quot;</span>

someone<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">'李四'</span><span class="token punctuation">)</span>

someone<span class="token punctuation">.</span>fullName
<span class="token comment">//&quot;李四&quot;</span>
</code></pre></div><h2 id="六、函数"><a href="#六、函数" aria-hidden="true" class="header-anchor">#</a> 六、函数</h2> <p>在 TS 中, 有几种方式定义函数类型。</p> <h3 id="_6-1-函数签名"><a href="#_6-1-函数签名" aria-hidden="true" class="header-anchor">#</a> 6. 1 函数签名</h3> <p>利用上文提到的函数签名来定义函数类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Sum</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
    <span class="token keyword">let</span> sum<span class="token punctuation">:</span> <span class="token function-variable function">Sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">numl<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-2-完整的函数类型"><a href="#_6-2-完整的函数类型" aria-hidden="true" class="header-anchor">#</a> 6. 2 完整的函数类型</h3> <p>除了使用函数签名外, 还可以直接对函数进行类型描述。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">sum</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
        b<span class="token punctuation">:</span> number</span>
    <span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>但是, 这种方式毫无疑问是太繁琐了, TS 存在类型推断的功能, 它能根据等号一侧已存在的函数类型, 而推断出另一侧的函数类型, 从而简化代码。</p> <h3 id="_6-3-类型推断"><a href="#_6-3-类型推断" aria-hidden="true" class="header-anchor">#</a> 6. 3 类型推断</h3> <p>函数推断简化代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//省略左侧类型描述</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span>： number <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token comment">//省略右侧类型描述</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-4-可选参数"><a href="#_6-4-可选参数" aria-hidden="true" class="header-anchor">#</a> 6. 4 可选参数</h3> <p>在 JS 中, 参数都是可选的, 如果函数声明了参数, 但是实际没有传参, 则参数值是 undefined。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//undefined</span>
</code></pre></div><p>但确实存在某个参数可能存在, 可能不存在的情况。这时候就需要用到可选参数了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b <span class="token operator">?</span> ：number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> b
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a
    <span class="token punctuation">}</span>
    <span class="token comment">//正确</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p>值得注意的是, <strong><code>可选参数必须跟在必须参数之后。</code></strong></p> <h3 id="_6-5-默认参数"><a href="#_6-5-默认参数" aria-hidden="true" class="header-anchor">#</a> 6. 5 默认参数</h3> <p>在 ES6 中, 可以给参数设定默认值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">//2</span>
</code></pre></div><p>而在 TS 中, 默认参数的特性也是和 ES6 一致, 而<strong>默认参数的类型</strong>是： <code>默认值和 undefined 的联合类型</code> 。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token comment">//正确</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//正确</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token comment">//提示错误</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'11'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-6-剩余参数"><a href="#_6-6-剩余参数" aria-hidden="true" class="header-anchor">#</a> 6. 6 剩余参数</h3> <p>在 ES6 中, 引入了剩余参数, 代表由剩余所有参数组成的参数数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> rest<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">//2</span>
</code></pre></div><p>在 TS 中给剩余参数添加类型, 和普通参数接近, 区别在于剩余参数肯定是数组类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> rest<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">//2</span>
</code></pre></div><h3 id="_6-7-函数重载"><a href="#_6-7-函数重载" aria-hidden="true" class="header-anchor">#</a> 6. 7 函数重载</h3> <p>函数根据传入不同的参数而返回不同的数据, 这是十分普遍的情况。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如何对这种情况进行类型描述呢？有些朋友可能会想到使用联合类型进行处理。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number <span class="token operator">|</span> boolean</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token operator">|</span> boolean <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但是, 这样不能很好地描述输入和输出类型的关系。</p> <p>在上述例子中, 参数和返回存在对应关系：参数是 number 类型, 则返回 boolean, 参数是 boolean 类型, 则返回 number, 其他则返回 undefined。</p> <p>此时, 我们可以运用函数重载描述这些对应关系：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> boolean</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
</code></pre></div><p>上述代码中, 定义了三个 foo 函数的重载, 需要注意两点。</p> <ol><li>具体的函数声明不属于重载部分, 即 <strong>function foo(a: any): any 并不是重载, 而是具体的函数声明</strong>, 所以例子中只有三个函数重载；</li> <li>当<strong>匹配重载列表时候, 是根据定义时候的顺序 <code>由上到下匹配</code> 的</strong>。在例子中, 传入参数是 undefined 时, 首先尝试匹配 number, 然后尝试匹配 boolean, 最后尝试匹配 any, 匹配成功则使用 any 这个重载定义。</li></ol> <h2 id="_7、泛型"><a href="#_7、泛型" aria-hidden="true" class="header-anchor">#</a> 7、泛型</h2> <p>泛型其实并不高深, 借助几个已知概念可以帮助理解。</p> <h3 id="_7-1-泛型函数"><a href="#_7-1-泛型函数" aria-hidden="true" class="header-anchor">#</a> 7. 1 泛型函数</h3> <p>上文提到, 当 <code>函数的参数</code> 和 <code>返回的类型</code> 存在联系时, 我们使用了函数重载进行类型描述。</p> <p>假如希望函数的参数和返回的值, 它们之间的类型一致。如果使用函数重载, 则需要：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> boolean</span><span class="token punctuation">)</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token keyword">undefined</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> object<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>这显得十分繁琐。而且, 当传入的参数是数组或其他对象时, 匹配的是函数重载的 object 部分, 返回值的类型也是 object, 丢失了原有的结构。</p> <p>我们期望即使传入复杂的结构对象, 也保留它们的类型描述。像上述代码中, 传入是 number[] 类型的参数, 期望返回的也是 number[] 类型描述, 而不是 object 类型描述。</p> <p>而使用泛型就能解决这个问题。以下借助变量的概念来对泛型进行解释。</p> <p>变量我们都清楚, 当变量被赋值成某值或对象时, 该变量就代表着某值或对象。</p> <p>而在类型系统中, 通过引入类型变量, 达到和变量相同的效果：当类型变量被赋值成某类型, 则类型变量就代表该类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> foo <span class="token operator">&lt;</span> <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上述代码中, 在函数名后添加 <code>&lt;T&gt;</code> , 代表 <code>在类型系统中声明了类型变量 T</code> 。所以, 在对参数 a 和返回值进行类型描述时, 我们可以使用 T 这个类型变量。</p> <p>另外, 上述代码使用字母 T 代表类型变量, 并不是固定的, 也可以使用字母 A、a 等合法的变量名。只不过约定俗成, T 代表着 Type(类型), 这样其他人阅读代码也一目了然。</p> <p>既然是变量, 我们怎么给这个类型变量传参呢？</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> foo <span class="token operator">&lt;</span> <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
foo <span class="token operator">&lt;</span> number <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo <span class="token operator">&lt;</span> boolean <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo <span class="token operator">&lt;</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以清晰地看到, 在调用函数时, 使用尖括号传入具体的类型值。以 <code>foo&lt;number[]&gt;([1, 2, 3])</code> 为例, 相当于应用 <code>function&lt;number[]&gt;(a: number[]): number[]</code> 类型校验。这样, 在参数和返回值中都保留了明确的数据结构。</p> <p>上文我们提到类型推断, 同样在泛型中也可以应用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> foo <span class="token operator">&lt;</span> <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>上述代码中, 省略了明确的类型传参, 但 TS 会根据我们传入的参数的类型, 自动确定 T 的类型。</p> <h3 id="_7-2-泛型接口"><a href="#_7-2-泛型接口" aria-hidden="true" class="header-anchor">#</a> 7. 2 泛型接口</h3> <p>我们知道, 接口是具有函数签名的, 形如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">foo</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接口中的函数签名也存在泛型的形式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">foo</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>
    <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>另外, 还可以将泛型参数作为接口的参数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">foo</span> <span class="token operator">&lt;</span> <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-3-泛型类"><a href="#_7-3-泛型类" aria-hidden="true" class="header-anchor">#</a> 7. 3 泛型类</h3> <p><strong>泛型类</strong>和<strong>泛型接口</strong>类似, 声明泛型参数后, 在类中就可以使用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token operator">&lt;</span> <span class="token constant">T</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token constant">T</span>
    y<span class="token punctuation">:</span> <span class="token constant">T</span>
    <span class="token function-variable function">getRect</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="结语"><a href="#结语" aria-hidden="true" class="header-anchor">#</a> 结语</h2> <p>以上就是关于 TS 的关键知识点, 熟悉上下两篇文章的内容, 即可阅读和使用大部分的 TS 代码。</p> <p>TS 的学习要点不多, 一个周末时间基本能搞明白。</p> <p>学习 TS 的资料主要是官网, 特别是 TS handbook, 本文大部分内容也是基于其整理的, 希望能给大家带来一些帮助。</p> <h2 id="thank"><a href="#thank" aria-hidden="true" class="header-anchor">#</a> THANK</h2> <p>本文主要摘自：</p> <p><a href="https://www.cnblogs.com/sexintercourse/p/11961086.html" target="_blank" rel="noopener noreferrer">一文学会 TypeScript 的 82% 常用知识点(上)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.cnblogs.com/sexintercourse/p/11961089.html" target="_blank" rel="noopener noreferrer">一文学会 TypeScript 的 82% 常用知识点(下)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">5/27/2020, 10:57:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javascript/dombom/" class="prev">
          DOM 和 BOM 的总结
        </a></span> <span class="next"><a href="/javascript/003-type-conversion/">
          003 -  JS类型转换
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.b1906b97.js" defer></script><script src="/assets/js/2.bdee5faf.js" defer></script><script src="/assets/js/62.ef5ca102.js" defer></script><script src="/assets/js/8.e132ed9d.js" defer></script>
  </body>
</html>
