(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{340:function(t,a,s){"use strict";s.r(a);var _=s(2),r=Object(_.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_004-mongodb-数据模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_004-mongodb-数据模型","aria-hidden":"true"}},[t._v("#")]),t._v(" 004 - MongoDB 数据模型")]),t._v(" "),s("p",[s("motto")],1),t._v(" "),s("p",[t._v("没有固定的数据格式 != 无需设计数据模型")]),t._v(" "),s("p",[t._v("文档结构 → 数据之间的关系")]),t._v(" "),s("p",[t._v("内嵌式结构 V. S 规范式结构")]),t._v(" "),s("h2",{attrs:{id:"_1-内嵌式结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-内嵌式结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 内嵌式结构")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_20-39-34.png",alt:"Snipaste_2020-05-29_20-39-34"}}),t._v(" "),s("h2",{attrs:{id:"_2-规范式结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-规范式结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 规范式结构")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_20-44-04.png",alt:"Snipaste_2020-05-29_20-44-04"}}),t._v(" "),s("h2",{attrs:{id:"_3-文档关系：一对一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-文档关系：一对一","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 文档关系：一对一")]),t._v(" "),s("h3",{attrs:{id:"使用内嵌结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用内嵌结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用内嵌结构")]),t._v(" "),s("p",[t._v("好处：")]),t._v(" "),s("ul",[s("li",[t._v("一次查询就可以返回所有数据")]),t._v(" "),s("li",[t._v("更具独立性的数据应作为顶层文档")]),t._v(" "),s("li",[t._v("补充性数据应作为内嵌文档")])]),t._v(" "),s("h2",{attrs:{id:"_4-文档关系：一对多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-文档关系：一对多","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 文档关系：一对多")]),t._v(" "),s("h3",{attrs:{id:"_1-使用内嵌结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用内嵌结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 使用内嵌结构")]),t._v(" "),s("p",[t._v("好处：")]),t._v(" "),s("ul",[s("li",[t._v("一次查询就可以返回所有数据")]),t._v(" "),s("li",[t._v("适合读取频率"),s("strong",[t._v("远高于")]),t._v("更新频率的数据")])]),t._v(" "),s("p",[t._v("坏处：")]),t._v(" "),s("ul",[s("li",[t._v("更新内嵌文档的复杂度增高")])]),t._v(" "),s("h3",{attrs:{id:"_2-使用规范结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用规范结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 使用规范结构")]),t._v(" "),s("p",[t._v("好处：")]),t._v(" "),s("ul",[s("li",[t._v("减少了重复数据")]),t._v(" "),s("li",[t._v("降低了文档更新的复杂度")])]),t._v(" "),s("p",[t._v("坏处：")]),t._v(" "),s("ul",[s("li",[t._v("需要多次读取操作才能得到完整的数据")])]),t._v(" "),s("h3",{attrs:{id:"_3-使用数组字段内嵌-需更改顶层文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用数组字段内嵌-需更改顶层文档","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 使用数组字段内嵌(需更改顶层文档)")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("适合常常需要返回全部相关文档的查询")])]),t._v(" "),s("li",[s("p",[t._v("数组元素较多时，避免使用内嵌文档")])]),t._v(" "),s("li",[s("p",[t._v("数组元素极多时，重新设计文档结构")])])]),t._v(" "),s("h3",{attrs:{id:"_4-使用数组字段-内嵌-规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-使用数组字段-内嵌-规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 使用数组字段+ 内嵌+规范")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("适合常常需要返回全部相关文档的查询")])]),t._v(" "),s("li",[s("p",[t._v("数组元素较多时，避免使用内嵌文档")])]),t._v(" "),s("li",[s("p",[t._v("数组元素极多时，重新设计文档结构")])])]),t._v(" "),s("h2",{attrs:{id:"_5-文档关系：树形结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-文档关系：树形结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. 文档关系：树形结构")]),t._v(" "),s("p",[t._v("多见于"),s("strong",[t._v("静态数据")]),t._v("及"),s("strong",[t._v("更新频率比较低")]),t._v("的参考数据")]),t._v(" "),s("h3",{attrs:{id:"存父节点："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存父节点：","aria-hidden":"true"}},[t._v("#")]),t._v(" 存父节点：")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_21-07-20.png",alt:"Snipaste_2020-05-29_21-07-20"}}),t._v(" "),s("h3",{attrs:{id:"存子节点："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存子节点：","aria-hidden":"true"}},[t._v("#")]),t._v(" 存子节点：")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_21-13-33.png",alt:"Snipaste_2020-05-29_21-13-33"}}),t._v(" "),s("h3",{attrs:{id:"存所有祖先节点："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存所有祖先节点：","aria-hidden":"true"}},[t._v("#")]),t._v(" 存所有祖先节点：")]),t._v(" "),s("p",[t._v("可跨越层次")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_21-18-19.png",alt:"Snipaste_2020-05-29_21-18-19"}}),t._v(" "),s("h3",{attrs:{id:"存深度优先的编号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存深度优先的编号","aria-hidden":"true"}},[t._v("#")]),t._v(" 存深度优先的编号")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_21-21-13.png",alt:"Snipaste_2020-05-29_21-21-13"}}),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://lskreno-typora.oss-cn-beijing.aliyuncs.com/img/Snipaste_2020-05-29_21-23-15.png",alt:"Snipaste_2020-05-29_21-23-15"}})])}),[],!1,null,null,null);a.default=r.exports}}]);